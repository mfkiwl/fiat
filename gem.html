<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>gem package &#8212; FInite element Automatic Tabulator (FIAT) 2024.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css?v=2bf1fcf8" />
    
    <script src="_static/documentation_options.js?v=e952a2db"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="finat.ufl package" href="finat.ufl.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="finat.ufl.html" title="finat.ufl package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FInite element Automatic Tabulator (FIAT) 2024.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">gem package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="gem-package">
<h1>gem package<a class="headerlink" href="#gem-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-gem.coffee">
<span id="gem-coffee-module"></span><h2>gem.coffee module<a class="headerlink" href="#module-gem.coffee" title="Link to this heading">¶</a></h2>
<p>This module contains an implementation of the COFFEE optimisation
algorithm operating on a GEM representation.</p>
<p>This file is NOT for code generation as a COFFEE AST.</p>
<dl class="py function">
<dt class="sig sig-object py" id="gem.coffee.optimise_monomial_sum">
<span class="sig-prename descclassname"><span class="pre">gem.coffee.</span></span><span class="sig-name descname"><span class="pre">optimise_monomial_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">monomial_sum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linear_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/coffee.html#optimise_monomial_sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.coffee.optimise_monomial_sum" title="Link to this definition">¶</a></dt>
<dd><p>Choose optimal common atomic subexpressions and factorise a
<code class="xref py py-class docutils literal notranslate"><span class="pre">MonomialSum</span></code> object to create a GEM expression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>monomial_sum</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">MonomialSum</span></code> object</p></li>
<li><p><strong>linear_indices</strong> – tuple of linear indices</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>factorised GEM expression</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gem.flop_count">
<span id="gem-flop-count-module"></span><h2>gem.flop_count module<a class="headerlink" href="#module-gem.flop_count" title="Link to this heading">¶</a></h2>
<p>This file contains all the necessary functions to accurately count the
total number of floating point operations for a given script.</p>
<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.count_flops">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">count_flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">impero_c</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#count_flops"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.count_flops" title="Link to this definition">¶</a></dt>
<dd><p>An approximation to flops required for a scheduled impero_c tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>impero_c</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">Impero_C</span></code> object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>approximate flop count for the tree.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.expression_flops">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">expression_flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#expression_flops"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.expression_flops" title="Link to this definition">¶</a></dt>
<dd><p>An approximation to flops required for each expression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expression</strong> – GEM expression.</p></li>
<li><p><strong>temporaries</strong> – Expressions that are assigned to temporaries</p></li>
<li><p><strong>top</strong> – are we at the root?</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>flop count for the expression</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Failure" title="gem.gem.Failure"><span class="pre">Failure</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.VariableIndex" title="gem.gem.VariableIndex"><span class="pre">VariableIndex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Index" title="gem.gem.Index"><span class="pre">Index</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Literal" title="gem.gem.Literal"><span class="pre">Literal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Zero" title="gem.gem.Zero"><span class="pre">Zero</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Delta" title="gem.gem.Delta"><span class="pre">Delta</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Identity" title="gem.gem.Identity"><span class="pre">Identity</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Variable" title="gem.gem.Variable"><span class="pre">Variable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.ListTensor" title="gem.gem.ListTensor"><span class="pre">ListTensor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.LogicalOr" title="gem.gem.LogicalOr"><span class="pre">LogicalOr</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.LogicalAnd" title="gem.gem.LogicalAnd"><span class="pre">LogicalAnd</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.LogicalNot" title="gem.gem.LogicalNot"><span class="pre">LogicalNot</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Product" title="gem.gem.Product"><span class="pre">Product</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.MaxValue" title="gem.gem.MaxValue"><span class="pre">MaxValue</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.MinValue" title="gem.gem.MinValue"><span class="pre">MinValue</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.MathFunction" title="gem.gem.MathFunction"><span class="pre">MathFunction</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Comparison" title="gem.gem.Comparison"><span class="pre">Comparison</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Division" title="gem.gem.Division"><span class="pre">Division</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Sum" title="gem.gem.Sum"><span class="pre">Sum</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Power" title="gem.gem.Power"><span class="pre">Power</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Conditional" title="gem.gem.Conditional"><span class="pre">Conditional</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.FlexiblyIndexed" title="gem.gem.FlexiblyIndexed"><span class="pre">FlexiblyIndexed</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Indexed" title="gem.gem.Indexed"><span class="pre">Indexed</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.IndexSum" title="gem.gem.IndexSum"><span class="pre">IndexSum</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Inverse" title="gem.gem.Inverse"><span class="pre">Inverse</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Solve" title="gem.gem.Solve"><span class="pre">Solve</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.ComponentTensor" title="gem.gem.ComponentTensor"><span class="pre">ComponentTensor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_componenttensor">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_componenttensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_componenttensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_componenttensor" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_conditional">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_conditional</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_conditional"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_conditional" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_failure">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_failure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_failure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_failure" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_indexed">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_indexed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_indexed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_indexed" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_indexsum">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_indexsum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_indexsum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_indexsum" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_inverse">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_inverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_inverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_inverse" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_oneplus">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_oneplus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_oneplus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_oneplus" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_power">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_power"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_power" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_product">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_product"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_product" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_solve">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_solve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_solve" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_zero">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_zero</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_zero"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_zero" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.flops_zeroplus">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">flops_zeroplus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#flops_zeroplus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.flops_zeroplus" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.statement">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#statement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.statement" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.impero.Block" title="gem.impero.Block"><span class="pre">Block</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.impero.For" title="gem.impero.For"><span class="pre">For</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.impero.Initialise" title="gem.impero.Initialise"><span class="pre">Initialise</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.impero.Accumulate" title="gem.impero.Accumulate"><span class="pre">Accumulate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.impero.Return" title="gem.impero.Return"><span class="pre">Return</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.impero.ReturnAccumulate" title="gem.impero.ReturnAccumulate"><span class="pre">ReturnAccumulate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.impero.Evaluate" title="gem.impero.Evaluate"><span class="pre">Evaluate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.statement_accumulate">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement_accumulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#statement_accumulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.statement_accumulate" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.statement_block">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#statement_block"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.statement_block" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.statement_evaluate">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement_evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#statement_evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.statement_evaluate" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.statement_for">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#statement_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.statement_for" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.statement_initialise">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement_initialise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#statement_initialise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.statement_initialise" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.statement_return">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement_return</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#statement_return"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.statement_return" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.flop_count.statement_returnaccumulate">
<span class="sig-prename descclassname"><span class="pre">gem.flop_count.</span></span><span class="sig-name descname"><span class="pre">statement_returnaccumulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/flop_count.html#statement_returnaccumulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.flop_count.statement_returnaccumulate" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-gem.gem">
<span id="gem-gem-module"></span><h2>gem.gem module<a class="headerlink" href="#module-gem.gem" title="Link to this heading">¶</a></h2>
<p>GEM is the intermediate language of TSFC for describing
tensor-valued mathematical expressions and tensor operations.
It is similar to Einstein’s notation.</p>
<dl class="simple">
<dt>Its design was heavily inspired by UFL, with some major differences:</dt><dd><ul class="simple">
<li><p>GEM has got nothing FEM-specific.</p></li>
<li><p>In UFL free indices are just unrolled shape, thus UFL is very
restrictive about operations on expressions with different sets of
free indices. GEM is much more relaxed about free indices.</p></li>
</ul>
</dd>
</dl>
<p>Similarly to UFL, all GEM nodes have ‘shape’ and ‘free_indices’
attributes / properties. Unlike UFL, however, index extents live on
the Index objects in GEM, not on all the nodes that have those free
indices.</p>
<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Comparison">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Comparison"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Comparison" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Comparison.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.Comparison.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Comparison.operator">
<span class="sig-name descname"><span class="pre">operator</span></span><a class="headerlink" href="#gem.gem.Comparison.operator" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.ComponentTensor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">ComponentTensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#ComponentTensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.ComponentTensor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.gem.Node" title="gem.gem.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.ComponentTensor.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.ComponentTensor.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.ComponentTensor.multiindex">
<span class="sig-name descname"><span class="pre">multiindex</span></span><a class="headerlink" href="#gem.gem.ComponentTensor.multiindex" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.ComponentTensor.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#gem.gem.ComponentTensor.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Concatenate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Concatenate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Concatenate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Concatenate" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.gem.Node" title="gem.gem.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<p>Flattens and concatenates GEM expressions by shape.</p>
<p>Similar to what UFL MixedElement does to value shape.  For
example, if children have shapes (2, 2), (), and (3,) then the
concatenated expression has shape (8,).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Concatenate.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.Concatenate.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gem.gem.Concatenate.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#gem.gem.Concatenate.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Conditional">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Conditional</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Conditional"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Conditional" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.gem.Node" title="gem.gem.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Conditional.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.Conditional.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Conditional.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#gem.gem.Conditional.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Delta">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Delta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Delta" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Terminal</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Delta.i">
<span class="sig-name descname"><span class="pre">i</span></span><a class="headerlink" href="#gem.gem.Delta.i" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Delta.j">
<span class="sig-name descname"><span class="pre">j</span></span><a class="headerlink" href="#gem.gem.Delta.j" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Division">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Division</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Division"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Division" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Division.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.Division.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Failure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Failure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Failure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Failure" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Terminal</span></code></p>
<p>Abstract class for failure GEM nodes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Failure.exception">
<span class="sig-name descname"><span class="pre">exception</span></span><a class="headerlink" href="#gem.gem.Failure.exception" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Failure.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#gem.gem.Failure.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.FlexiblyIndexed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">FlexiblyIndexed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#FlexiblyIndexed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.FlexiblyIndexed" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<p>Flexible indexing of :py:class:<a href="#id1"><span class="problematic" id="id2">`</span></a>Variable`s to implement views and
reshapes (splitting dimensions only).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.FlexiblyIndexed.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.FlexiblyIndexed.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.FlexiblyIndexed.dim2idxs">
<span class="sig-name descname"><span class="pre">dim2idxs</span></span><a class="headerlink" href="#gem.gem.FlexiblyIndexed.dim2idxs" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.gem.FlexiblyIndexed.index_ordering">
<span class="sig-name descname"><span class="pre">index_ordering</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#FlexiblyIndexed.index_ordering"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.FlexiblyIndexed.index_ordering" title="Link to this definition">¶</a></dt>
<dd><p>Running indices in the order of indexing in this node.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.FlexiblyIndexed.indirect_children">
<span class="sig-name descname"><span class="pre">indirect_children</span></span><a class="headerlink" href="#gem.gem.FlexiblyIndexed.indirect_children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.FloorDiv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">FloorDiv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#FloorDiv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.FloorDiv" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.FloorDiv.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.FloorDiv.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Identity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Identity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Identity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Identity" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></p>
<p>Identity matrix</p>
<dl class="py property">
<dt class="sig sig-object py" id="gem.gem.Identity.array">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">array</span></span><a class="headerlink" href="#gem.gem.Identity.array" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Identity.dim">
<span class="sig-name descname"><span class="pre">dim</span></span><a class="headerlink" href="#gem.gem.Identity.dim" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gem.gem.Identity.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#gem.gem.Identity.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Index">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Index" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">IndexBase</span></code></p>
<p>Free index</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Index.count">
<span class="sig-name descname"><span class="pre">count</span></span><a class="headerlink" href="#gem.gem.Index.count" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Index.extent">
<span class="sig-name descname"><span class="pre">extent</span></span><a class="headerlink" href="#gem.gem.Index.extent" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Index.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#gem.gem.Index.name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.gem.Index.set_extent">
<span class="sig-name descname"><span class="pre">set_extent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Index.set_extent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Index.set_extent" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.IndexSum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">IndexSum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#IndexSum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.IndexSum" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.IndexSum.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.IndexSum.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.IndexSum.multiindex">
<span class="sig-name descname"><span class="pre">multiindex</span></span><a class="headerlink" href="#gem.gem.IndexSum.multiindex" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Indexed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Indexed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Indexed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Indexed" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Indexed.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.Indexed.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.gem.Indexed.index_ordering">
<span class="sig-name descname"><span class="pre">index_ordering</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Indexed.index_ordering"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Indexed.index_ordering" title="Link to this definition">¶</a></dt>
<dd><p>Running indices in the order of indexing in this node.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Indexed.indirect_children">
<span class="sig-name descname"><span class="pre">indirect_children</span></span><a class="headerlink" href="#gem.gem.Indexed.indirect_children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Indexed.multiindex">
<span class="sig-name descname"><span class="pre">multiindex</span></span><a class="headerlink" href="#gem.gem.Indexed.multiindex" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Inverse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Inverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Inverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Inverse" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.gem.Node" title="gem.gem.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<p>The inverse of a square matrix.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Inverse.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.Inverse.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Inverse.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#gem.gem.Inverse.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.ListTensor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">ListTensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#ListTensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.ListTensor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.gem.Node" title="gem.gem.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.ListTensor.array">
<span class="sig-name descname"><span class="pre">array</span></span><a class="headerlink" href="#gem.gem.ListTensor.array" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gem.gem.ListTensor.children">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.ListTensor.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.gem.ListTensor.get_hash">
<span class="sig-name descname"><span class="pre">get_hash</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#ListTensor.get_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.ListTensor.get_hash" title="Link to this definition">¶</a></dt>
<dd><p>Hash function.</p>
<p>This is the method to potentially override in derived classes,
not <code class="xref py py-meth docutils literal notranslate"><span class="pre">__hash__()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.gem.ListTensor.is_equal">
<span class="sig-name descname"><span class="pre">is_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#ListTensor.is_equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.ListTensor.is_equal" title="Link to this definition">¶</a></dt>
<dd><p>Common subexpression eliminating equality predicate.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.gem.ListTensor.reconstruct">
<span class="sig-name descname"><span class="pre">reconstruct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#ListTensor.reconstruct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.ListTensor.reconstruct" title="Link to this definition">¶</a></dt>
<dd><p>Reconstructs the node with new children from
‘args’. Non-child data are copied from ‘self’.</p>
<p>Returns a new object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gem.gem.ListTensor.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#gem.gem.ListTensor.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Literal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Literal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Literal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Literal" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></p>
<p>Tensor-valued constant</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Literal.array">
<span class="sig-name descname"><span class="pre">array</span></span><a class="headerlink" href="#gem.gem.Literal.array" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.gem.Literal.get_hash">
<span class="sig-name descname"><span class="pre">get_hash</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Literal.get_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Literal.get_hash" title="Link to this definition">¶</a></dt>
<dd><p>Hash function.</p>
<p>This is the method to potentially override in derived classes,
not <code class="xref py py-meth docutils literal notranslate"><span class="pre">__hash__()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.gem.Literal.is_equal">
<span class="sig-name descname"><span class="pre">is_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Literal.is_equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Literal.is_equal" title="Link to this definition">¶</a></dt>
<dd><p>Equality predicate.</p>
<p>This is the method to potentially override in derived classes,
not <code class="xref py py-meth docutils literal notranslate"><span class="pre">__eq__()</span></code> or <code class="xref py py-meth docutils literal notranslate"><span class="pre">__ne__()</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gem.gem.Literal.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#gem.gem.Literal.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gem.gem.Literal.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#gem.gem.Literal.value" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.LogicalAnd">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">LogicalAnd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#LogicalAnd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.LogicalAnd" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.LogicalAnd.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.LogicalAnd.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.LogicalNot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">LogicalNot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#LogicalNot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.LogicalNot" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.LogicalNot.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.LogicalNot.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.LogicalOr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">LogicalOr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#LogicalOr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.LogicalOr" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.LogicalOr.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.LogicalOr.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.MathFunction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">MathFunction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#MathFunction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.MathFunction" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.MathFunction.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.MathFunction.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.MathFunction.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#gem.gem.MathFunction.name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.MaxValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">MaxValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#MaxValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.MaxValue" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.MaxValue.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.MaxValue.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.MinValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">MinValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#MinValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.MinValue" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.MinValue.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.MinValue.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Node" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.node.Node" title="gem.node.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<p>Abstract GEM node class.</p>
<dl class="py property">
<dt class="sig sig-object py" id="gem.gem.Node.T">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">T</span></span><a class="headerlink" href="#gem.gem.Node.T" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Node.dtype">
<span class="sig-name descname"><span class="pre">dtype</span></span><a class="headerlink" href="#gem.gem.Node.dtype" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Node.free_indices">
<span class="sig-name descname"><span class="pre">free_indices</span></span><a class="headerlink" href="#gem.gem.Node.free_indices" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.gem.Node.inherit_dtype_from_children">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">inherit_dtype_from_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">children</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Node.inherit_dtype_from_children"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Node.inherit_dtype_from_children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.gem.Node.is_equal">
<span class="sig-name descname"><span class="pre">is_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Node.is_equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Node.is_equal" title="Link to this definition">¶</a></dt>
<dd><p>Common subexpression eliminating equality predicate.</p>
<p>When two (sub)expressions are equal, the children of one
object are reassigned to the children of the other, so some
duplicated subexpressions are eliminated.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.OrientationVariableIndex">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">OrientationVariableIndex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#OrientationVariableIndex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.OrientationVariableIndex" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.gem.VariableIndex" title="gem.gem.VariableIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">VariableIndex</span></code></a>, <a class="reference internal" href="FIAT.html#FIAT.orientation_utils.Orientation" title="FIAT.orientation_utils.Orientation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Orientation</span></code></a></p>
<p>VariableIndex representing a fiat orientation.</p>
<section id="notes">
<h3>Notes<a class="headerlink" href="#notes" title="Link to this heading">¶</a></h3>
<p>In the current implementation, we need to extract
<cite>VariableIndex.expression</cite> as index arithmetic
is not supported (indices are not <cite>Node</cite>).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.OrientationVariableIndex.expression">
<span class="sig-name descname"><span class="pre">expression</span></span><a class="headerlink" href="#gem.gem.OrientationVariableIndex.expression" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Power">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Power"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Power" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Power.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.Power.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Product">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Product"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Product" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Product.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.Product.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Remainder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Remainder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Remainder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Remainder" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Remainder.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.Remainder.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Solve">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Solve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Solve" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.gem.Node" title="gem.gem.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<p>Solution of a square matrix equation with (potentially) multiple right hand sides.</p>
<p>Represents the X obtained by solving AX = B.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Solve.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.Solve.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Solve.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#gem.gem.Solve.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Sum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Sum" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Scalar</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Sum.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.gem.Sum.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Variable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Variable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Variable" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Terminal</span></code></p>
<p>Symbolic variable tensor</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Variable.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#gem.gem.Variable.name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Variable.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#gem.gem.Variable.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.VariableIndex">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">VariableIndex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#VariableIndex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.VariableIndex" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">IndexBase</span></code></p>
<p>An index that is constant during a single execution of the
kernel, but whose value is not known at compile time.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.VariableIndex.expression">
<span class="sig-name descname"><span class="pre">expression</span></span><a class="headerlink" href="#gem.gem.VariableIndex.expression" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.gem.Zero">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">Zero</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#Zero"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.Zero" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></p>
<p>Symbolic zero tensor</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.gem.Zero.shape">
<span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#gem.gem.Zero.shape" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gem.gem.Zero.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#gem.gem.Zero.value" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.gem.as_gem">
<span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">as_gem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#as_gem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.as_gem" title="Link to this definition">¶</a></dt>
<dd><p>Attempt to convert an expression into GEM of scalar type.</p>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>expr<span class="classifier">Node or Number</span></dt><dd><p>The expression.</p>
</dd>
</dl>
</section>
<section id="returns">
<h3>Returns<a class="headerlink" href="#returns" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>Node</dt><dd><p>A GEM representation of the expression.</p>
</dd>
</dl>
</section>
<section id="raises">
<h3>Raises<a class="headerlink" href="#raises" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>ValueError</dt><dd><p>If conversion was not possible.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.gem.extract_type">
<span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">extract_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">klass</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#extract_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.extract_type" title="Link to this definition">¶</a></dt>
<dd><p>Collects objects of type klass in expressions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.gem.index_sum">
<span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">index_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#index_sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.index_sum" title="Link to this definition">¶</a></dt>
<dd><p>Eliminates indices from the free indices of an expression by
summing over them.  Skips any index that is not a free index of
the expression.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.gem.indices">
<span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.indices" title="Link to this definition">¶</a></dt>
<dd><p>Make some <a class="reference internal" href="#gem.gem.Index" title="gem.gem.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> – The number of indices to make.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of <cite>n</cite> <a class="reference internal" href="#gem.gem.Index" title="gem.gem.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.gem.partial_indexed">
<span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">partial_indexed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#partial_indexed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.partial_indexed" title="Link to this definition">¶</a></dt>
<dd><p>Generalised indexing into a tensor by eating shape off the front.
The number of indices may be less than or equal to the rank of the tensor,
so the result may have a non-empty shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tensor</strong> – tensor-valued GEM expression</p></li>
<li><p><strong>indices</strong> – indices, at most as many as the rank of the tensor</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a potentially tensor-valued expression</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.gem.reshape">
<span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">reshape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">shapes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#reshape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.reshape" title="Link to this definition">¶</a></dt>
<dd><p>Reshape a variable (splitting indices only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expression</strong> – view of a <a class="reference internal" href="#gem.gem.Variable" title="gem.gem.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a></p></li>
<li><p><strong>shapes</strong> – one shape tuple for each dimension of the variable.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.gem.view">
<span class="sig-prename descclassname"><span class="pre">gem.gem.</span></span><span class="sig-name descname"><span class="pre">view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">slices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/gem.html#view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.gem.view" title="Link to this definition">¶</a></dt>
<dd><p>View a part of a shaped object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expression</strong> – a node that has a shape</p></li>
<li><p><strong>slices</strong> – one slice object for each dimension of the expression.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gem.impero">
<span id="gem-impero-module"></span><h2>gem.impero module<a class="headerlink" href="#module-gem.impero" title="Link to this heading">¶</a></h2>
<p>Impero is a helper AST for generating C code (or equivalent,
e.g. COFFEE) from GEM.  An Impero expression is a proper tree, not
directed acyclic graph (DAG).  Impero is a helper AST, not a
standalone language; it is incomplete without GEM as its terminals
refer to nodes from GEM expressions.</p>
<dl class="simple">
<dt>Trivia:</dt><dd><ul class="simple">
<li><p>Impero helps translating GEM into an imperative language.</p></li>
<li><p>Byzantine units in Age of Empires II sometimes say ‘Impero?’
(Command?) after clicking on them.</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="gem.impero.Accumulate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero.</span></span><span class="sig-name descname"><span class="pre">Accumulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indexsum</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Accumulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Accumulate" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.impero.Terminal" title="gem.impero.Terminal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Terminal</span></code></a></p>
<p>Accumulate terms into an <code class="xref py py-class docutils literal notranslate"><span class="pre">gem.IndexSum</span></code>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.Accumulate.indexsum">
<span class="sig-name descname"><span class="pre">indexsum</span></span><a class="headerlink" href="#gem.impero.Accumulate.indexsum" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.impero.Accumulate.loop_shape">
<span class="sig-name descname"><span class="pre">loop_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">free_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Accumulate.loop_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Accumulate.loop_shape" title="Link to this definition">¶</a></dt>
<dd><p>Gives the loop shape, an ordering of indices for an Impero
terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>free_indices</strong> – a callable mapping of GEM expressions to
ordered free indices.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.impero.Block">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero.</span></span><span class="sig-name descname"><span class="pre">Block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statements</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Block"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Block" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.impero.Node" title="gem.impero.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<p>An ordered set of Impero expressions.  Corresponds to a curly
braces block in C.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.Block.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.impero.Block.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.impero.Evaluate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero.</span></span><span class="sig-name descname"><span class="pre">Evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Evaluate" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.impero.Terminal" title="gem.impero.Terminal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Terminal</span></code></a></p>
<p>Assign the value of a GEM expression to a temporary.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.Evaluate.expression">
<span class="sig-name descname"><span class="pre">expression</span></span><a class="headerlink" href="#gem.impero.Evaluate.expression" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.impero.Evaluate.loop_shape">
<span class="sig-name descname"><span class="pre">loop_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">free_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Evaluate.loop_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Evaluate.loop_shape" title="Link to this definition">¶</a></dt>
<dd><p>Gives the loop shape, an ordering of indices for an Impero
terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>free_indices</strong> – a callable mapping of GEM expressions to
ordered free indices.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.impero.For">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero.</span></span><span class="sig-name descname"><span class="pre">For</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statement</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#For"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.For" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.impero.Node" title="gem.impero.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<p>For loop with an index which stores its extent, and a loop body
expression which is usually a <a class="reference internal" href="#gem.impero.Block" title="gem.impero.Block"><code class="xref py py-class docutils literal notranslate"><span class="pre">Block</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.For.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#gem.impero.For.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.For.index">
<span class="sig-name descname"><span class="pre">index</span></span><a class="headerlink" href="#gem.impero.For.index" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.impero.Initialise">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero.</span></span><span class="sig-name descname"><span class="pre">Initialise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indexsum</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Initialise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Initialise" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.impero.Terminal" title="gem.impero.Terminal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Terminal</span></code></a></p>
<p>Initialise an <code class="xref py py-class docutils literal notranslate"><span class="pre">gem.IndexSum</span></code>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.Initialise.indexsum">
<span class="sig-name descname"><span class="pre">indexsum</span></span><a class="headerlink" href="#gem.impero.Initialise.indexsum" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.impero.Initialise.loop_shape">
<span class="sig-name descname"><span class="pre">loop_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">free_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Initialise.loop_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Initialise.loop_shape" title="Link to this definition">¶</a></dt>
<dd><p>Gives the loop shape, an ordering of indices for an Impero
terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>free_indices</strong> – a callable mapping of GEM expressions to
ordered free indices.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.impero.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><a class="reference internal" href="_modules/gem/impero.html#Node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Node" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.node.Node" title="gem.node.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<p>Base class of all Impero nodes</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.impero.Noop">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero.</span></span><span class="sig-name descname"><span class="pre">Noop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Noop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Noop" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.impero.Terminal" title="gem.impero.Terminal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Terminal</span></code></a></p>
<p>No-op terminal. Does not generate code, but wraps a GEM
expression to have a loop shape, thus affects loop fusion.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.Noop.expression">
<span class="sig-name descname"><span class="pre">expression</span></span><a class="headerlink" href="#gem.impero.Noop.expression" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.impero.Noop.loop_shape">
<span class="sig-name descname"><span class="pre">loop_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">free_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Noop.loop_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Noop.loop_shape" title="Link to this definition">¶</a></dt>
<dd><p>Gives the loop shape, an ordering of indices for an Impero
terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>free_indices</strong> – a callable mapping of GEM expressions to
ordered free indices.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.impero.Return">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero.</span></span><span class="sig-name descname"><span class="pre">Return</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Return"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Return" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.impero.Terminal" title="gem.impero.Terminal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Terminal</span></code></a></p>
<p>Save value of GEM expression into an lvalue. Used to “return”
values from a kernel.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.Return.expression">
<span class="sig-name descname"><span class="pre">expression</span></span><a class="headerlink" href="#gem.impero.Return.expression" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.impero.Return.loop_shape">
<span class="sig-name descname"><span class="pre">loop_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">free_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Return.loop_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Return.loop_shape" title="Link to this definition">¶</a></dt>
<dd><p>Gives the loop shape, an ordering of indices for an Impero
terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>free_indices</strong> – a callable mapping of GEM expressions to
ordered free indices.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.Return.variable">
<span class="sig-name descname"><span class="pre">variable</span></span><a class="headerlink" href="#gem.impero.Return.variable" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.impero.ReturnAccumulate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero.</span></span><span class="sig-name descname"><span class="pre">ReturnAccumulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexsum</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#ReturnAccumulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.ReturnAccumulate" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.impero.Terminal" title="gem.impero.Terminal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Terminal</span></code></a></p>
<p>Accumulate an <code class="xref py py-class docutils literal notranslate"><span class="pre">gem.IndexSum</span></code> directly into a return
variable.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.ReturnAccumulate.indexsum">
<span class="sig-name descname"><span class="pre">indexsum</span></span><a class="headerlink" href="#gem.impero.ReturnAccumulate.indexsum" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.impero.ReturnAccumulate.loop_shape">
<span class="sig-name descname"><span class="pre">loop_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">free_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#ReturnAccumulate.loop_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.ReturnAccumulate.loop_shape" title="Link to this definition">¶</a></dt>
<dd><p>Gives the loop shape, an ordering of indices for an Impero
terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>free_indices</strong> – a callable mapping of GEM expressions to
ordered free indices.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.ReturnAccumulate.variable">
<span class="sig-name descname"><span class="pre">variable</span></span><a class="headerlink" href="#gem.impero.ReturnAccumulate.variable" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.impero.Terminal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero.</span></span><span class="sig-name descname"><span class="pre">Terminal</span></span><a class="reference internal" href="_modules/gem/impero.html#Terminal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Terminal" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gem.impero.Node" title="gem.impero.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
<p>Abstract class for terminal Impero nodes</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero.Terminal.children">
<span class="sig-name descname"><span class="pre">children</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#gem.impero.Terminal.children" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.impero.Terminal.loop_shape">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">loop_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">free_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero.html#Terminal.loop_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero.Terminal.loop_shape" title="Link to this definition">¶</a></dt>
<dd><p>Gives the loop shape, an ordering of indices for an Impero
terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>free_indices</strong> – a callable mapping of GEM expressions to
ordered free indices.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-gem.impero_utils">
<span id="gem-impero-utils-module"></span><h2>gem.impero_utils module<a class="headerlink" href="#module-gem.impero_utils" title="Link to this heading">¶</a></h2>
<p>Utilities for building an Impero AST from an ordered list of
terminal Impero operations, and for building any additional data
required for straightforward C code generation.</p>
<p>What this module does is independent of the generated code target.</p>
<dl class="py class">
<dt class="sig sig-object py" id="gem.impero_utils.ImperoC">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero_utils.</span></span><span class="sig-name descname"><span class="pre">ImperoC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">declare</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gem.impero_utils.ImperoC" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero_utils.ImperoC.declare">
<span class="sig-name descname"><span class="pre">declare</span></span><a class="headerlink" href="#gem.impero_utils.ImperoC.declare" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero_utils.ImperoC.indices">
<span class="sig-name descname"><span class="pre">indices</span></span><a class="headerlink" href="#gem.impero_utils.ImperoC.indices" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero_utils.ImperoC.temporaries">
<span class="sig-name descname"><span class="pre">temporaries</span></span><a class="headerlink" href="#gem.impero_utils.ImperoC.temporaries" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.impero_utils.ImperoC.tree">
<span class="sig-name descname"><span class="pre">tree</span></span><a class="headerlink" href="#gem.impero_utils.ImperoC.tree" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="gem.impero_utils.NoopError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.impero_utils.</span></span><span class="sig-name descname"><span class="pre">NoopError</span></span><a class="reference internal" href="_modules/gem/impero_utils.html#NoopError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero_utils.NoopError" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>No operations in the kernel.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.impero_utils.collect_temporaries">
<span class="sig-prename descclassname"><span class="pre">gem.impero_utils.</span></span><span class="sig-name descname"><span class="pre">collect_temporaries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero_utils.html#collect_temporaries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero_utils.collect_temporaries" title="Link to this definition">¶</a></dt>
<dd><p>Collects GEM expressions to assign to temporaries from a list
of Impero terminals.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.impero_utils.compile_gem">
<span class="sig-prename descclassname"><span class="pre">gem.impero_utils.</span></span><span class="sig-name descname"><span class="pre">compile_gem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">assignments</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_ordering</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_zeros</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emit_return_accumulate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero_utils.html#compile_gem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero_utils.compile_gem" title="Link to this definition">¶</a></dt>
<dd><p>Compiles GEM to Impero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>assignments</strong> – list of (return variable, expression DAG root) pairs</p></li>
<li><p><strong>prefix_ordering</strong> – outermost loop indices</p></li>
<li><p><strong>remove_zeros</strong> – remove zero assignment to return variables</p></li>
<li><p><strong>emit_return_accumulate</strong> – emit ReturnAccumulate nodes (see
<a class="reference internal" href="#gem.scheduling.emit_operations" title="gem.scheduling.emit_operations"><code class="xref py py-func docutils literal notranslate"><span class="pre">emit_operations()</span></code></a>)? If False,
split into Accumulate/Return pairs. Set to False if the
output tensor of kernels is not guaranteed to be zero on entry.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.impero_utils.inline_temporaries">
<span class="sig-prename descclassname"><span class="pre">gem.impero_utils.</span></span><span class="sig-name descname"><span class="pre">inline_temporaries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ops</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero_utils.html#inline_temporaries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero_utils.inline_temporaries" title="Link to this definition">¶</a></dt>
<dd><p>Inline temporaries which could be inlined without blowing up
the code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expressions</strong> – a multi-root GEM expression DAG, used for
reference counting</p></li>
<li><p><strong>ops</strong> – ordered list of Impero terminals</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a filtered <code class="docutils literal notranslate"><span class="pre">ops</span></code>, without the unnecessary
:class:<a href="#id3"><span class="problematic" id="id4">`</span></a>impero.Evaluate`s</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.impero_utils.make_index_orderer">
<span class="sig-prename descclassname"><span class="pre">gem.impero_utils.</span></span><span class="sig-name descname"><span class="pre">make_index_orderer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_ordering</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero_utils.html#make_index_orderer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero_utils.make_index_orderer" title="Link to this definition">¶</a></dt>
<dd><p>Returns a function which given a set of indices returns those
indices in the order as they appear in <code class="docutils literal notranslate"><span class="pre">index_ordering</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.impero_utils.make_loop_tree">
<span class="sig-prename descclassname"><span class="pre">gem.impero_utils.</span></span><span class="sig-name descname"><span class="pre">make_loop_tree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ops</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero_utils.html#make_loop_tree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero_utils.make_loop_tree" title="Link to this definition">¶</a></dt>
<dd><p>Creates an Impero AST with loops from a list of operations and
their respective free indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ops</strong> – a list of Impero terminal nodes</p></li>
<li><p><strong>get_indices</strong> – callable mapping from GEM nodes to an ordering
of free indices</p></li>
<li><p><strong>level</strong> – depth of loop nesting</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Impero AST with loops, without declarations</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.impero_utils.make_prefix_ordering">
<span class="sig-prename descclassname"><span class="pre">gem.impero_utils.</span></span><span class="sig-name descname"><span class="pre">make_prefix_ordering</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix_ordering</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero_utils.html#make_prefix_ordering"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero_utils.make_prefix_ordering" title="Link to this definition">¶</a></dt>
<dd><p>Creates an ordering of <code class="docutils literal notranslate"><span class="pre">indices</span></code> which starts with those
indices in <code class="docutils literal notranslate"><span class="pre">prefix_ordering</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.impero_utils.place_declarations">
<span class="sig-prename descclassname"><span class="pre">gem.impero_utils.</span></span><span class="sig-name descname"><span class="pre">place_declarations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero_utils.html#place_declarations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero_utils.place_declarations" title="Link to this definition">¶</a></dt>
<dd><p>Determines where and how to declare temporaries for an Impero AST.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tree</strong> – Impero AST to determine the declarations for</p></li>
<li><p><strong>temporaries</strong> – list of GEM expressions which are assigned to
temporaries</p></li>
<li><p><strong>get_indices</strong> – callable mapping from GEM nodes to an ordering
of free indices</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.impero_utils.preprocess_gem">
<span class="sig-prename descclassname"><span class="pre">gem.impero_utils.</span></span><span class="sig-name descname"><span class="pre">preprocess_gem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace_delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_componenttensors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero_utils.html#preprocess_gem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero_utils.preprocess_gem" title="Link to this definition">¶</a></dt>
<dd><p>Lower GEM nodes that cannot be translated to C directly.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.impero_utils.temp_refcount">
<span class="sig-prename descclassname"><span class="pre">gem.impero_utils.</span></span><span class="sig-name descname"><span class="pre">temp_refcount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">temporaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/impero_utils.html#temp_refcount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.impero_utils.temp_refcount" title="Link to this definition">¶</a></dt>
<dd><p>Collects the number of times temporaries are referenced when
generating code for an Impero terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>temporaries</strong> – set of temporaries</p></li>
<li><p><strong>op</strong> – Impero terminal</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.Counter" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.Counter</span></code></a> object mapping some of
elements from <code class="docutils literal notranslate"><span class="pre">temporaries</span></code> to the number of times
they will referenced from <code class="docutils literal notranslate"><span class="pre">op</span></code></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gem.interpreter">
<span id="gem-interpreter-module"></span><h2>gem.interpreter module<a class="headerlink" href="#module-gem.interpreter" title="Link to this heading">¶</a></h2>
<p>An interpreter for GEM trees.</p>
<dl class="py function">
<dt class="sig sig-object py" id="gem.interpreter.evaluate">
<span class="sig-prename descclassname"><span class="pre">gem.interpreter.</span></span><span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bindings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/interpreter.html#evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.interpreter.evaluate" title="Link to this definition">¶</a></dt>
<dd><p>Evaluate some GEM expressions given variable bindings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expressions</strong> – A single GEM expression, or iterable of
expressions to evaluate.</p></li>
<li><p><strong>bindings</strong> – An optional dict mapping GEM <code class="xref py py-class docutils literal notranslate"><span class="pre">gem.Variable</span></code>
nodes to data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list of the evaluated expressions.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gem.node">
<span id="gem-node-module"></span><h2>gem.node module<a class="headerlink" href="#module-gem.node" title="Link to this heading">¶</a></h2>
<p>Generic abstract node class and utility functions for creating
expression DAG languages.</p>
<dl class="py class">
<dt class="sig sig-object py" id="gem.node.Memoizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.node.</span></span><span class="sig-name descname"><span class="pre">Memoizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#Memoizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.Memoizer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Caching wrapper for functions with overridable recursive calls.
The lifetime of the cache is the lifetime of the object instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function</strong> – a function with parameters (value, rec), where
<code class="docutils literal notranslate"><span class="pre">rec</span></code> is expected to be a function used for
recursive calls.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a function with working recursion and caching</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.node.MemoizerArg">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.node.</span></span><span class="sig-name descname"><span class="pre">MemoizerArg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#MemoizerArg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.MemoizerArg" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Caching wrapper for functions with overridable recursive calls
and an argument.  The lifetime of the cache is the lifetime of the
object instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function</strong> – a function with parameters (value, rec, arg), where
<code class="docutils literal notranslate"><span class="pre">rec</span></code> is expected to be a function used for
recursive calls.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a function with working recursion and caching</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.node.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.node.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><a class="reference internal" href="_modules/gem/node.html#Node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.Node" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Abstract node class.</p>
<p>Nodes are not meant to be modified.</p>
<p>A node can reference other nodes; they are called children. A node
might contain data, or reference other objects which are not
themselves nodes; they are not called children.</p>
<p>Both the children (if any) and non-child data (if any) are
required to create a node, or determine the equality of two
nodes. For reconstruction, however, only the new children are
necessary.</p>
<dl class="py method">
<dt class="sig sig-object py" id="gem.node.Node.get_hash">
<span class="sig-name descname"><span class="pre">get_hash</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#Node.get_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.Node.get_hash" title="Link to this definition">¶</a></dt>
<dd><p>Hash function.</p>
<p>This is the method to potentially override in derived classes,
not <code class="xref py py-meth docutils literal notranslate"><span class="pre">__hash__()</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.node.Node.hash_value">
<span class="sig-name descname"><span class="pre">hash_value</span></span><a class="headerlink" href="#gem.node.Node.hash_value" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.node.Node.is_equal">
<span class="sig-name descname"><span class="pre">is_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#Node.is_equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.Node.is_equal" title="Link to this definition">¶</a></dt>
<dd><p>Equality predicate.</p>
<p>This is the method to potentially override in derived classes,
not <code class="xref py py-meth docutils literal notranslate"><span class="pre">__eq__()</span></code> or <code class="xref py py-meth docutils literal notranslate"><span class="pre">__ne__()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.node.Node.reconstruct">
<span class="sig-name descname"><span class="pre">reconstruct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#Node.reconstruct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.Node.reconstruct" title="Link to this definition">¶</a></dt>
<dd><p>Reconstructs the node with new children from
‘args’. Non-child data are copied from ‘self’.</p>
<p>Returns a new object.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.node.collect_refcount">
<span class="sig-prename descclassname"><span class="pre">gem.node.</span></span><span class="sig-name descname"><span class="pre">collect_refcount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression_dags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#collect_refcount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.collect_refcount" title="Link to this definition">¶</a></dt>
<dd><p>Collects reference counts for a multi-root expression DAG.</p>
<section id="id5">
<h3>Notes<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<p>This function also collects reference counts of nodes
in index expressions (e.g., <cite>VariableIndex`s); see
``_make_traversal_children()`</cite>.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.node.noop_recursive">
<span class="sig-prename descclassname"><span class="pre">gem.node.</span></span><span class="sig-name descname"><span class="pre">noop_recursive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#noop_recursive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.noop_recursive" title="Link to this definition">¶</a></dt>
<dd><p>No-op wrapper for functions with overridable recursive calls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function</strong> – a function with parameters (value, rec), where
<code class="docutils literal notranslate"><span class="pre">rec</span></code> is expected to be a function used for
recursive calls.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a function with working recursion and nothing fancy</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.node.noop_recursive_arg">
<span class="sig-prename descclassname"><span class="pre">gem.node.</span></span><span class="sig-name descname"><span class="pre">noop_recursive_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#noop_recursive_arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.noop_recursive_arg" title="Link to this definition">¶</a></dt>
<dd><p>No-op wrapper for functions with overridable recursive calls
and an argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function</strong> – a function with parameters (value, rec, arg), where
<code class="docutils literal notranslate"><span class="pre">rec</span></code> is expected to be a function used for
recursive calls.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a function with working recursion and nothing fancy</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.node.post_traversal">
<span class="sig-prename descclassname"><span class="pre">gem.node.</span></span><span class="sig-name descname"><span class="pre">post_traversal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression_dags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#post_traversal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.post_traversal" title="Link to this definition">¶</a></dt>
<dd><p>Post-order traversal of the nodes of expression DAGs.</p>
<section id="id6">
<h3>Notes<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<p>This function also walks through nodes in index expressions
(e.g., <cite>VariableIndex`s); see ``_make_traversal_children()`</cite>.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.node.pre_traversal">
<span class="sig-prename descclassname"><span class="pre">gem.node.</span></span><span class="sig-name descname"><span class="pre">pre_traversal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression_dags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#pre_traversal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.pre_traversal" title="Link to this definition">¶</a></dt>
<dd><p>Pre-order traversal of the nodes of expression DAGs.</p>
<section id="id7">
<h3>Notes<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<p>This function also walks through nodes in index expressions
(e.g., <cite>VariableIndex`s); see ``_make_traversal_children()`</cite>.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.node.reuse_if_untouched">
<span class="sig-prename descclassname"><span class="pre">gem.node.</span></span><span class="sig-name descname"><span class="pre">reuse_if_untouched</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#reuse_if_untouched"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.reuse_if_untouched" title="Link to this definition">¶</a></dt>
<dd><p>Reuse if untouched recipe</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.node.reuse_if_untouched_arg">
<span class="sig-prename descclassname"><span class="pre">gem.node.</span></span><span class="sig-name descname"><span class="pre">reuse_if_untouched_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/node.html#reuse_if_untouched_arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.node.reuse_if_untouched_arg" title="Link to this definition">¶</a></dt>
<dd><p>Reuse if touched recipe propagating an extra argument</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.node.traversal">
<span class="sig-prename descclassname"><span class="pre">gem.node.</span></span><span class="sig-name descname"><span class="pre">traversal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression_dags</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gem.node.traversal" title="Link to this definition">¶</a></dt>
<dd><p>Pre-order traversal of the nodes of expression DAGs.</p>
<section id="id8">
<h3>Notes<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<p>This function also walks through nodes in index expressions
(e.g., <cite>VariableIndex`s); see ``_make_traversal_children()`</cite>.</p>
</section>
</dd></dl>

</section>
<section id="module-gem.optimise">
<span id="gem-optimise-module"></span><h2>gem.optimise module<a class="headerlink" href="#module-gem.optimise" title="Link to this heading">¶</a></h2>
<p>A set of routines implementing various transformations on GEM
expressions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.aggressive_unroll">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">aggressive_unroll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#aggressive_unroll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.aggressive_unroll" title="Link to this definition">¶</a></dt>
<dd><p>Aggressively unrolls all loop structures.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.associate">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">associate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operands</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#associate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.associate" title="Link to this definition">¶</a></dt>
<dd><p>Apply associativity rules to construct an operation-minimal expression tree.</p>
<p>For best performance give factors that have different set of free indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>operator</strong> – associative binary operator</p></li>
<li><p><strong>operands</strong> – list of operands</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(reduced expression, # of floating-point operations)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.constant_fold_zero">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">constant_fold_zero</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exprs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#constant_fold_zero"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.constant_fold_zero" title="Link to this definition">¶</a></dt>
<dd><p>Produce symbolic zeros from Literals</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>exprs</strong> – An iterable of gem expressions.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of gem expressions where any Literal containing
only zeros is replaced by symbolic Zero of the appropriate
shape.</p>
</dd>
</dl>
<p>We need a separate path for ListTensor so that its <cite>reconstruct</cite>
method will not be called when the new children are <a href="#id9"><span class="problematic" id="id10">`</span></a>Zero()`s;
otherwise Literal <a href="#id11"><span class="problematic" id="id12">`</span></a>0`s would be reintroduced.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.contraction">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">contraction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#contraction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.contraction" title="Link to this definition">¶</a></dt>
<dd><p>Optimise the contractions of the tensor product at the root of
the expression, including:</p>
<ul class="simple">
<li><p>IndexSum-Delta cancellation</p></li>
<li><p>Sum factorisation</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore</strong> – Optional set of indices to ignore when applying sum
factorisation (otherwise all summation indices will be
considered). Use this if your expression has many contraction
indices.</p>
</dd>
</dl>
<p>This routine was designed with finite element coefficient
evaluation in mind.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.delta_elimination">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">delta_elimination</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sum_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factors</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#delta_elimination"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.delta_elimination" title="Link to this definition">¶</a></dt>
<dd><p>IndexSum-Delta cancellation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sum_indices</strong> – free indices for contractions</p></li>
<li><p><strong>factors</strong> – product factors</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>optimised (sum_indices, factors)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.ffc_rounding">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">ffc_rounding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#ffc_rounding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.ffc_rounding" title="Link to this definition">¶</a></dt>
<dd><p>Perform FFC rounding of FIAT tabulation matrices on the literals of
a GEM expression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expression</strong> – GEM expression</p></li>
<li><p><strong>epsilon</strong> – tolerance limit for rounding</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.filtered_replace_indices">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">filtered_replace_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subst</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#filtered_replace_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.filtered_replace_indices" title="Link to this definition">¶</a></dt>
<dd><p>Wrapper for <a class="reference internal" href="#gem.optimise.replace_indices" title="gem.optimise.replace_indices"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_indices()</span></code></a>.  At each call removes
substitution rules that do not apply.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.literal_rounding">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">literal_rounding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#literal_rounding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.literal_rounding" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">literal_rounding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Node" title="gem.gem.Node"><span class="pre">Node</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">literal_rounding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Literal" title="gem.gem.Literal"><span class="pre">Literal</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Perform FFC rounding of FIAT tabulation matrices on the literals of
a GEM expression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> – root of the expression</p></li>
<li><p><strong>self</strong> – function for recursive calls</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.literal_rounding_literal">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">literal_rounding_literal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#literal_rounding_literal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.literal_rounding_literal" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.make_product">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">make_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sum_indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#make_product"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.make_product" title="Link to this definition">¶</a></dt>
<dd><p>Constructs an operation-minimal (tensor) product of GEM expressions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.make_rename_map">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">make_rename_map</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#make_rename_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.make_rename_map" title="Link to this definition">¶</a></dt>
<dd><p>Creates an rename map for reusing the same index renames.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.make_renamer">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">make_renamer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rename_map</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#make_renamer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.make_renamer" title="Link to this definition">¶</a></dt>
<dd><p>Creates a function for renaming indices when expanding products of
IndexSums, i.e. applying to following rule:</p>
<blockquote>
<div><p>(sum_i a_i)*(sum_i b_i) ===&gt; sum_{i,i’} a_i*b_{i’}</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rename_map</strong> – An rename map for renaming indices the same way
as functions returned by other calls of this
function.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A function that takes an iterable of indices to rename,
and returns (renamed indices, applier), where applier is
a function that remap the free indices of GEM
expressions from the old to the new indices.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.make_sum">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">make_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">summands</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#make_sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.make_sum" title="Link to this definition">¶</a></dt>
<dd><p>Constructs an operation-minimal sum of GEM expressions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.remove_componenttensors">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">remove_componenttensors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#remove_componenttensors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.remove_componenttensors" title="Link to this definition">¶</a></dt>
<dd><p>Removes all ComponentTensors in multi-root expression DAG.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.replace_delta">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">replace_delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#replace_delta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.replace_delta" title="Link to this definition">¶</a></dt>
<dd><p>Lowers all Deltas in a multi-root expression DAG.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.replace_division">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">replace_division</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#replace_division"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.replace_division" title="Link to this definition">¶</a></dt>
<dd><p>Replace divisions with multiplications in expressions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.replace_indices">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">replace_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subst</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#replace_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.replace_indices" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">replace_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Node" title="gem.gem.Node"><span class="pre">Node</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">replace_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Delta" title="gem.gem.Delta"><span class="pre">Delta</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subst</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">replace_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.Indexed" title="gem.gem.Indexed"><span class="pre">Indexed</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subst</span></span></em><span class="sig-paren">)</span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">replace_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gem.gem.FlexiblyIndexed" title="gem.gem.FlexiblyIndexed"><span class="pre">FlexiblyIndexed</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subst</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Replace free indices in a GEM expression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> – root of the expression</p></li>
<li><p><strong>self</strong> – function for recursive calls</p></li>
<li><p><strong>subst</strong> – tuple of pairs; each pair is a substitution
rule with a free index to replace and an index to
replace with.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.replace_indices_delta">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">replace_indices_delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subst</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#replace_indices_delta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.replace_indices_delta" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.replace_indices_flexiblyindexed">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">replace_indices_flexiblyindexed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subst</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#replace_indices_flexiblyindexed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.replace_indices_flexiblyindexed" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.replace_indices_indexed">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">replace_indices_indexed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subst</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#replace_indices_indexed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.replace_indices_indexed" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.select_expression">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">select_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#select_expression"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.select_expression" title="Link to this definition">¶</a></dt>
<dd><p>Select an expression from a list of expressions with an index.
Semantically equivalent to</p>
<blockquote>
<div><p>partial_indexed(ListTensor(expressions), (index,))</p>
</div></blockquote>
<p>but has a much more optimised implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expressions</strong> – a list of expressions of the same shape</p></li>
<li><p><strong>index</strong> – an index (free, fixed or variable)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>an expression of the same shape as the given expressions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.sum_factorise">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">sum_factorise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sum_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factors</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#sum_factorise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.sum_factorise" title="Link to this definition">¶</a></dt>
<dd><p>Optimise a tensor product through sum factorisation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sum_indices</strong> – free indices for contractions</p></li>
<li><p><strong>factors</strong> – product factors</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>optimised GEM expression</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.traverse_product">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">traverse_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#traverse_product"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.traverse_product" title="Link to this definition">¶</a></dt>
<dd><p>Traverses a product tree and collects factors, also descending into
tensor contractions (IndexSum).  The nominators of divisions are
also broken up, but not the denominators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expression</strong> – a GEM expression</p></li>
<li><p><strong>stop_at</strong> – Optional predicate on GEM expressions.  If specified
and returns true for some subexpression, that
subexpression is not broken into further factors
even if it is a product-like expression.</p></li>
<li><p><strong>rename_map</strong> – an rename map for consistent index renaming</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(sum_indices, terms)
- sum_indices: list of indices to sum over
- terms: list of product terms</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.traverse_sum">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">traverse_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_at</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#traverse_sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.traverse_sum" title="Link to this definition">¶</a></dt>
<dd><p>Traverses a summation tree and collects summands.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expression</strong> – a GEM expression</p></li>
<li><p><strong>stop_at</strong> – Optional predicate on GEM expressions.  If specified
and returns true for some subexpression, that
subexpression is not broken into further summands
even if it is an addition.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of summand expressions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.optimise.unroll_indexsum">
<span class="sig-prename descclassname"><span class="pre">gem.optimise.</span></span><span class="sig-name descname"><span class="pre">unroll_indexsum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predicate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/optimise.html#unroll_indexsum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.optimise.unroll_indexsum" title="Link to this definition">¶</a></dt>
<dd><p>Unrolls IndexSums below a specified extent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expressions</strong> – list of expression DAGs</p></li>
<li><p><strong>predicate</strong> – a predicate function on <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code> objects
that tells whether to unroll a particular index</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of expression DAGs with some unrolled IndexSums</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gem.pprint">
<span id="gem-pprint-module"></span><h2>gem.pprint module<a class="headerlink" href="#module-gem.pprint" title="Link to this heading">¶</a></h2>
<p>Pretty-printing GEM expressions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="gem.pprint.Context">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.pprint.</span></span><span class="sig-name descname"><span class="pre">Context</span></span><a class="reference internal" href="_modules/gem/pprint.html#Context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.pprint.Context" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="gem.pprint.Context.expression">
<span class="sig-name descname"><span class="pre">expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/pprint.html#Context.expression"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.pprint.Context.expression" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.pprint.Context.force_expression">
<span class="sig-name descname"><span class="pre">force_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/pprint.html#Context.force_expression"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.pprint.Context.force_expression" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.pprint.Context.index">
<span class="sig-name descname"><span class="pre">index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/pprint.html#Context.index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.pprint.Context.index" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.pprint.make_decl">
<span class="sig-prename descclassname"><span class="pre">gem.pprint.</span></span><span class="sig-name descname"><span class="pre">make_decl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/pprint.html#make_decl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.pprint.make_decl" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.pprint.pprint">
<span class="sig-prename descclassname"><span class="pre">gem.pprint.</span></span><span class="sig-name descname"><span class="pre">pprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression_dags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context=&lt;gem.pprint.Context</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/pprint.html#pprint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.pprint.pprint" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.pprint.to_str">
<span class="sig-prename descclassname"><span class="pre">gem.pprint.</span></span><span class="sig-name descname"><span class="pre">to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/pprint.html#to_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.pprint.to_str" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-gem.refactorise">
<span id="gem-refactorise-module"></span><h2>gem.refactorise module<a class="headerlink" href="#module-gem.refactorise" title="Link to this heading">¶</a></h2>
<p>Data structures and algorithms for generic expansion and
refactorisation.</p>
<dl class="py data">
<dt class="sig sig-object py" id="gem.refactorise.ATOMIC">
<span class="sig-prename descclassname"><span class="pre">gem.refactorise.</span></span><span class="sig-name descname"><span class="pre">ATOMIC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'atomic'</span></em><a class="headerlink" href="#gem.refactorise.ATOMIC" title="Link to this definition">¶</a></dt>
<dd><p>Label: the expression need not be broken up into smaller parts</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="gem.refactorise.COMPOUND">
<span class="sig-prename descclassname"><span class="pre">gem.refactorise.</span></span><span class="sig-name descname"><span class="pre">COMPOUND</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'compound'</span></em><a class="headerlink" href="#gem.refactorise.COMPOUND" title="Link to this definition">¶</a></dt>
<dd><p>Label: the expression must be broken up into smaller parts</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="gem.refactorise.FactorisationError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.refactorise.</span></span><span class="sig-name descname"><span class="pre">FactorisationError</span></span><a class="reference internal" href="_modules/gem/refactorise.html#FactorisationError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.refactorise.FactorisationError" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Raised when factorisation fails to achieve some desired form.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.refactorise.Monomial">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.refactorise.</span></span><span class="sig-name descname"><span class="pre">Monomial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sum_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atomics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gem.refactorise.Monomial" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<p>Monomial type, representation of a tensor product with some
distinguished factors (called atomics).</p>
<ul class="simple">
<li><p>sum_indices: indices to sum over</p></li>
<li><p>atomics: tuple of expressions classified as ATOMIC</p></li>
<li><p>rest: a single expression classified as OTHER</p></li>
</ul>
<p>A <a class="reference internal" href="#gem.refactorise.Monomial" title="gem.refactorise.Monomial"><code class="xref py py-class docutils literal notranslate"><span class="pre">Monomial</span></code></a> is a structured description of the expression:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">IndexSum</span><span class="p">(</span><span class="n">reduce</span><span class="p">(</span><span class="n">Product</span><span class="p">,</span> <span class="n">atomics</span><span class="p">,</span> <span class="n">rest</span><span class="p">),</span> <span class="n">sum_indices</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="gem.refactorise.Monomial.atomics">
<span class="sig-name descname"><span class="pre">atomics</span></span><a class="headerlink" href="#gem.refactorise.Monomial.atomics" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.refactorise.Monomial.rest">
<span class="sig-name descname"><span class="pre">rest</span></span><a class="headerlink" href="#gem.refactorise.Monomial.rest" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gem.refactorise.Monomial.sum_indices">
<span class="sig-name descname"><span class="pre">sum_indices</span></span><a class="headerlink" href="#gem.refactorise.Monomial.sum_indices" title="Link to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.refactorise.MonomialSum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.refactorise.</span></span><span class="sig-name descname"><span class="pre">MonomialSum</span></span><a class="reference internal" href="_modules/gem/refactorise.html#MonomialSum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.refactorise.MonomialSum" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Represents a sum of :py:class:<a href="#id13"><span class="problematic" id="id14">`</span></a>Monomial`s.</p>
<p>The set of <a class="reference internal" href="#gem.refactorise.Monomial" title="gem.refactorise.Monomial"><code class="xref py py-class docutils literal notranslate"><span class="pre">Monomial</span></code></a> summands are represented as a
mapping from a pair of unordered <code class="docutils literal notranslate"><span class="pre">sum_indices</span></code> and unordered
<code class="docutils literal notranslate"><span class="pre">atomics</span></code> to a <code class="docutils literal notranslate"><span class="pre">rest</span></code> GEM expression.  This representation
makes it easier to merge similar monomials.</p>
<dl class="py method">
<dt class="sig sig-object py" id="gem.refactorise.MonomialSum.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sum_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atomics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rest</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/refactorise.html#MonomialSum.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.refactorise.MonomialSum.add" title="Link to this definition">¶</a></dt>
<dd><p>Updates the <a class="reference internal" href="#gem.refactorise.MonomialSum" title="gem.refactorise.MonomialSum"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonomialSum</span></code></a> adding a new monomial.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.refactorise.MonomialSum.product">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/refactorise.html#MonomialSum.product"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.refactorise.MonomialSum.product" title="Link to this definition">¶</a></dt>
<dd><p>Product of multiple :py:class:<a href="#id15"><span class="problematic" id="id16">`</span></a>MonomialSum`s</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.refactorise.MonomialSum.sum">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/refactorise.html#MonomialSum.sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.refactorise.MonomialSum.sum" title="Link to this definition">¶</a></dt>
<dd><p>Sum of multiple :py:class:<a href="#id17"><span class="problematic" id="id18">`</span></a>MonomialSum`s</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="gem.refactorise.OTHER">
<span class="sig-prename descclassname"><span class="pre">gem.refactorise.</span></span><span class="sig-name descname"><span class="pre">OTHER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'other'</span></em><a class="headerlink" href="#gem.refactorise.OTHER" title="Link to this definition">¶</a></dt>
<dd><p>Label: the expression is irrelevant with regards to refactorisation</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.refactorise.collect_monomials">
<span class="sig-prename descclassname"><span class="pre">gem.refactorise.</span></span><span class="sig-name descname"><span class="pre">collect_monomials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/refactorise.html#collect_monomials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.refactorise.collect_monomials" title="Link to this definition">¶</a></dt>
<dd><p>Refactorises expressions into a sum-of-products form, using
distributivity rules (i.e. a*(b + c) -&gt; a*b + a*c).  Expansion
proceeds until all “compound” expressions are broken up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expressions</strong> – GEM expressions to refactorise</p></li>
<li><p><strong>classifier</strong> – a function that can classify any GEM expression
as <code class="docutils literal notranslate"><span class="pre">ATOMIC</span></code>, <code class="docutils literal notranslate"><span class="pre">COMPOUND</span></code>, or <code class="docutils literal notranslate"><span class="pre">OTHER</span></code>.  This
classification drives the factorisation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of :py:class:<a href="#id19"><span class="problematic" id="id20">`</span></a>MonomialSum`s</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#gem.refactorise.FactorisationError" title="gem.refactorise.FactorisationError"><strong>FactorisationError</strong></a> – Failed to break up some “compound”
expressions with expansion.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gem.scheduling">
<span id="gem-scheduling-module"></span><h2>gem.scheduling module<a class="headerlink" href="#module-gem.scheduling" title="Link to this heading">¶</a></h2>
<p>Schedules operations to evaluate a multi-root expression DAG,
forming an ordered list of Impero terminals.</p>
<dl class="py class">
<dt class="sig sig-object py" id="gem.scheduling.OrderedDefaultDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.scheduling.</span></span><span class="sig-name descname"><span class="pre">OrderedDefaultDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factory</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/scheduling.html#OrderedDefaultDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.scheduling.OrderedDefaultDict" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a></p>
<p>A dictionary that provides a default value and ordered iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>factory</strong> – The callable used to create the default value.</p>
</dd>
</dl>
<p>See <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code></a> for description of the
remaining arguments.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.scheduling.Queue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.scheduling.</span></span><span class="sig-name descname"><span class="pre">Queue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/scheduling.html#Queue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.scheduling.Queue" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Special queue for operation scheduling.  GEM / Impero nodes are
inserted when they are ready to be scheduled, i.e. any operation
which depends on the operation to be inserted must have been
scheduled already.  This class implements a heuristic for ordering
operations within the constraints in a way which aims to achieve
maximum loop fusion to minimise the size of temporaries which need
to be introduced.</p>
<dl class="py method">
<dt class="sig sig-object py" id="gem.scheduling.Queue.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elem</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/scheduling.html#Queue.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.scheduling.Queue.insert" title="Link to this definition">¶</a></dt>
<dd><p>Insert element into queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> – loop indices used by the scheduling heuristic</p></li>
<li><p><strong>elem</strong> – element to be scheduled</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.scheduling.Queue.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/scheduling.html#Queue.process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.scheduling.Queue.process" title="Link to this definition">¶</a></dt>
<dd><p>Pops elements from the queue and calls the callback
function on them until the queue is empty.  The callback
function can insert further elements into the queue.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.scheduling.ReferenceStager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.scheduling.</span></span><span class="sig-name descname"><span class="pre">ReferenceStager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reference_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/scheduling.html#ReferenceStager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.scheduling.ReferenceStager" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Provides staging for nodes in reference counted expression
DAGs.  A callback function is called once the reference count is
exhausted.</p>
<dl class="py method">
<dt class="sig sig-object py" id="gem.scheduling.ReferenceStager.decref">
<span class="sig-name descname"><span class="pre">decref</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/scheduling.html#ReferenceStager.decref"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.scheduling.ReferenceStager.decref" title="Link to this definition">¶</a></dt>
<dd><p>Decreases the reference count of a node, and possibly
triggering a callback (when the reference count drops to
zero).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gem.scheduling.ReferenceStager.empty">
<span class="sig-name descname"><span class="pre">empty</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/scheduling.html#ReferenceStager.empty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.scheduling.ReferenceStager.empty" title="Link to this definition">¶</a></dt>
<dd><p>All reference counts exhausted?</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.scheduling.emit_operations">
<span class="sig-prename descclassname"><span class="pre">gem.scheduling.</span></span><span class="sig-name descname"><span class="pre">emit_operations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">assignments</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emit_return_accumulate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/scheduling.html#emit_operations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.scheduling.emit_operations" title="Link to this definition">¶</a></dt>
<dd><p>Makes an ordering of operations to evaluate a multi-root
expression DAG.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>assignments</strong> – Iterable of (variable, expression) pairs.
The value of expression is written into variable
upon execution.</p></li>
<li><p><strong>get_indices</strong> – mapping from GEM nodes to an ordering of free
indices</p></li>
<li><p><strong>emit_return_accumulate</strong> – emit ReturnAccumulate nodes? Set to
False if the output variables are not guaranteed
zero on entry to the kernel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of Impero terminals correctly ordered to evaluate
the assignments</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.scheduling.handle">
<span class="sig-prename descclassname"><span class="pre">gem.scheduling.</span></span><span class="sig-name descname"><span class="pre">handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ops</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">push</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decref</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/scheduling.html#handle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.scheduling.handle" title="Link to this definition">¶</a></dt>
<dd><p>Helper function for scheduling</p>
</dd></dl>

</section>
<section id="module-gem.unconcatenate">
<span id="gem-unconcatenate-module"></span><h2>gem.unconcatenate module<a class="headerlink" href="#module-gem.unconcatenate" title="Link to this heading">¶</a></h2>
<p>Utility functions for decomposing Concatenate nodes.</p>
<p>The exported functions are flatten and unconcatenate.
- flatten: destroys the structure preserved within Concatenate nodes,</p>
<blockquote>
<div><p>essentially reducing FInAT provided tabulations to what
FIAT could have provided, so old code can continue to work.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>unconcatenate: split up (variable, expression) pairs along</dt><dd><p>Concatenate nodes, thus recovering the structure
within them, yet eliminating the Concatenate nodes.</p>
</dd>
</dl>
</li>
</ul>
<p>Let us see an example on unconcatenate.  Let us consider the form</p>
<blockquote>
<div><p>div(v) * dx</p>
</div></blockquote>
<p>where v is an RTCF7 test function.  This means that the assembled
local vector has 8 * 7 + 7 * 8 = 112 entries.  So the compilation of
the form starts with a single assignment pair [(v, e)].  v is now the
indexed return variable, something equivalent to</p>
<blockquote>
<div><p>Indexed(Variable(‘A’, (112,)), (j,))</p>
</div></blockquote>
<p>where j is the basis function index of the argument.  e is just a GEM
quadrature expression with j as its only free index.  This will
contain the tabulation of the RTCF7 element, which will cause
something like</p>
<blockquote>
<div><p>C_j := Indexed(Concatenate(A, B), (j,))</p>
</div></blockquote>
<p>to appear as a subexpression in e.  unconcatenate splits e along C_j
into e_1 and e_2 such that</p>
<blockquote>
<div><p>e_1 := e /. C_j -&gt; A_{ja1,ja2}, and
e_2 := e /. C_j -&gt; B_{jb1,jb2}.</p>
</div></blockquote>
<p>The split indices ja1, ja2, jb1, and jb2 have extents 8, 7, 7, and 8
respectively (see the RTCF7 element construction above).  So the
result of unconcatenate will be the list of pairs</p>
<blockquote>
<div><p>[(v_1, e_2), (v_2, e_2)]</p>
</div></blockquote>
<p>where v_1 is the first 56 entries of v, reshaped as an 8 x 7 matrix,
indexed with (ja1, ja2), and similarly, v_2 is the second 56 entries
of v, reshaped as a 7 x 8 matrix, indexed with (jb1, jb2).</p>
<p>The unconcatenated form allows for sum factorisation of tensor product
elements as usual.  This pair splitting is also applicable to
coefficient evaluation: take the local basis function coefficients as
the variable, the FInAT tabulation of the element as the expression,
and apply “matrix-vector multifunction” for each pair after
unconcatenation, and then add up the results.</p>
<dl class="py function">
<dt class="sig sig-object py" id="gem.unconcatenate.flatten">
<span class="sig-prename descclassname"><span class="pre">gem.unconcatenate.</span></span><span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/unconcatenate.html#flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.unconcatenate.flatten" title="Link to this definition">¶</a></dt>
<dd><p>Flatten Concatenate nodes, and destroy the structure they express.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>expressions</strong> – a multi-root expression DAG</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.unconcatenate.unconcatenate">
<span class="sig-prename descclassname"><span class="pre">gem.unconcatenate.</span></span><span class="sig-name descname"><span class="pre">unconcatenate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pairs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/unconcatenate.html#unconcatenate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.unconcatenate.unconcatenate" title="Link to this definition">¶</a></dt>
<dd><p>Splits a list of (indexed variable, expression) pairs along
<code class="xref py py-class docutils literal notranslate"><span class="pre">Concatenate</span></code> nodes embedded in the expressions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pairs</strong> – list of (indexed variable, expression) pairs</p></li>
<li><p><strong>cache</strong> – index splitting cache <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of (indexed variable, expression) pairs</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gem.utils">
<span id="gem-utils-module"></span><h2>gem.utils module<a class="headerlink" href="#module-gem.utils" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="gem.utils.DynamicallyScoped">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.utils.</span></span><span class="sig-name descname"><span class="pre">DynamicallyScoped</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_value=&lt;object</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/utils.html#DynamicallyScoped"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.utils.DynamicallyScoped" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A dynamically scoped variable.</p>
<dl class="py method">
<dt class="sig sig-object py" id="gem.utils.DynamicallyScoped.let">
<span class="sig-name descname"><span class="pre">let</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/utils.html#DynamicallyScoped.let"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.utils.DynamicallyScoped.let" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="gem.utils.DynamicallyScoped.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#gem.utils.DynamicallyScoped.value" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="gem.utils.UnsetVariableError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.utils.</span></span><span class="sig-name descname"><span class="pre">UnsetVariableError</span></span><a class="reference internal" href="_modules/gem/utils.html#UnsetVariableError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.utils.UnsetVariableError" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#LookupError" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">LookupError</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gem.utils.cached_property">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gem.utils.</span></span><span class="sig-name descname"><span class="pre">cached_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fget</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/utils.html#cached_property"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.utils.cached_property" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A read-only &#64;property that is only evaluated once. The value is cached
on the object itself rather than the function or class; this should prevent
memory leakage.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.utils.groupby">
<span class="sig-prename descclassname"><span class="pre">gem.utils.</span></span><span class="sig-name descname"><span class="pre">groupby</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/utils.html#groupby"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.utils.groupby" title="Link to this definition">¶</a></dt>
<dd><p>Groups objects by their keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterable</strong> – an iterable</p></li>
<li><p><strong>key</strong> – key function</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of (group key, list of group members) pairs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gem.utils.make_proxy_class">
<span class="sig-prename descclassname"><span class="pre">gem.utils.</span></span><span class="sig-name descname"><span class="pre">make_proxy_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gem/utils.html#make_proxy_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gem.utils.make_proxy_class" title="Link to this definition">¶</a></dt>
<dd><p>Constructs a proxy class for a given class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the new proxy class</p></li>
<li><p><strong>cls</strong> – the wrapee class to create a proxy for</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gem">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-gem" title="Link to this heading">¶</a></h2>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">gem package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-gem.coffee">gem.coffee module</a><ul>
<li><a class="reference internal" href="#gem.coffee.optimise_monomial_sum"><code class="docutils literal notranslate"><span class="pre">optimise_monomial_sum()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.flop_count">gem.flop_count module</a><ul>
<li><a class="reference internal" href="#gem.flop_count.count_flops"><code class="docutils literal notranslate"><span class="pre">count_flops()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.expression_flops"><code class="docutils literal notranslate"><span class="pre">expression_flops()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops"><code class="docutils literal notranslate"><span class="pre">flops()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_componenttensor"><code class="docutils literal notranslate"><span class="pre">flops_componenttensor()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_conditional"><code class="docutils literal notranslate"><span class="pre">flops_conditional()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_failure"><code class="docutils literal notranslate"><span class="pre">flops_failure()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_indexed"><code class="docutils literal notranslate"><span class="pre">flops_indexed()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_indexsum"><code class="docutils literal notranslate"><span class="pre">flops_indexsum()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_inverse"><code class="docutils literal notranslate"><span class="pre">flops_inverse()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_oneplus"><code class="docutils literal notranslate"><span class="pre">flops_oneplus()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_power"><code class="docutils literal notranslate"><span class="pre">flops_power()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_product"><code class="docutils literal notranslate"><span class="pre">flops_product()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_solve"><code class="docutils literal notranslate"><span class="pre">flops_solve()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_zero"><code class="docutils literal notranslate"><span class="pre">flops_zero()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.flops_zeroplus"><code class="docutils literal notranslate"><span class="pre">flops_zeroplus()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.statement"><code class="docutils literal notranslate"><span class="pre">statement()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.statement_accumulate"><code class="docutils literal notranslate"><span class="pre">statement_accumulate()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.statement_block"><code class="docutils literal notranslate"><span class="pre">statement_block()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.statement_evaluate"><code class="docutils literal notranslate"><span class="pre">statement_evaluate()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.statement_for"><code class="docutils literal notranslate"><span class="pre">statement_for()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.statement_initialise"><code class="docutils literal notranslate"><span class="pre">statement_initialise()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.statement_return"><code class="docutils literal notranslate"><span class="pre">statement_return()</span></code></a></li>
<li><a class="reference internal" href="#gem.flop_count.statement_returnaccumulate"><code class="docutils literal notranslate"><span class="pre">statement_returnaccumulate()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.gem">gem.gem module</a><ul>
<li><a class="reference internal" href="#gem.gem.Comparison"><code class="docutils literal notranslate"><span class="pre">Comparison</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Comparison.children"><code class="docutils literal notranslate"><span class="pre">Comparison.children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Comparison.operator"><code class="docutils literal notranslate"><span class="pre">Comparison.operator</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.ComponentTensor"><code class="docutils literal notranslate"><span class="pre">ComponentTensor</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.ComponentTensor.children"><code class="docutils literal notranslate"><span class="pre">ComponentTensor.children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.ComponentTensor.multiindex"><code class="docutils literal notranslate"><span class="pre">ComponentTensor.multiindex</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.ComponentTensor.shape"><code class="docutils literal notranslate"><span class="pre">ComponentTensor.shape</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Concatenate"><code class="docutils literal notranslate"><span class="pre">Concatenate</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Concatenate.children"><code class="docutils literal notranslate"><span class="pre">Concatenate.children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Concatenate.shape"><code class="docutils literal notranslate"><span class="pre">Concatenate.shape</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Conditional"><code class="docutils literal notranslate"><span class="pre">Conditional</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Conditional.children"><code class="docutils literal notranslate"><span class="pre">Conditional.children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Conditional.shape"><code class="docutils literal notranslate"><span class="pre">Conditional.shape</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Delta"><code class="docutils literal notranslate"><span class="pre">Delta</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Delta.i"><code class="docutils literal notranslate"><span class="pre">Delta.i</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Delta.j"><code class="docutils literal notranslate"><span class="pre">Delta.j</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Division"><code class="docutils literal notranslate"><span class="pre">Division</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Division.children"><code class="docutils literal notranslate"><span class="pre">Division.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Failure"><code class="docutils literal notranslate"><span class="pre">Failure</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Failure.exception"><code class="docutils literal notranslate"><span class="pre">Failure.exception</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Failure.shape"><code class="docutils literal notranslate"><span class="pre">Failure.shape</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.FlexiblyIndexed"><code class="docutils literal notranslate"><span class="pre">FlexiblyIndexed</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.FlexiblyIndexed.children"><code class="docutils literal notranslate"><span class="pre">FlexiblyIndexed.children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.FlexiblyIndexed.dim2idxs"><code class="docutils literal notranslate"><span class="pre">FlexiblyIndexed.dim2idxs</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.FlexiblyIndexed.index_ordering"><code class="docutils literal notranslate"><span class="pre">FlexiblyIndexed.index_ordering()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.FlexiblyIndexed.indirect_children"><code class="docutils literal notranslate"><span class="pre">FlexiblyIndexed.indirect_children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.FloorDiv"><code class="docutils literal notranslate"><span class="pre">FloorDiv</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.FloorDiv.children"><code class="docutils literal notranslate"><span class="pre">FloorDiv.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Identity"><code class="docutils literal notranslate"><span class="pre">Identity</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Identity.array"><code class="docutils literal notranslate"><span class="pre">Identity.array</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Identity.dim"><code class="docutils literal notranslate"><span class="pre">Identity.dim</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Identity.shape"><code class="docutils literal notranslate"><span class="pre">Identity.shape</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Index"><code class="docutils literal notranslate"><span class="pre">Index</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Index.count"><code class="docutils literal notranslate"><span class="pre">Index.count</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Index.extent"><code class="docutils literal notranslate"><span class="pre">Index.extent</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Index.name"><code class="docutils literal notranslate"><span class="pre">Index.name</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Index.set_extent"><code class="docutils literal notranslate"><span class="pre">Index.set_extent()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.IndexSum"><code class="docutils literal notranslate"><span class="pre">IndexSum</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.IndexSum.children"><code class="docutils literal notranslate"><span class="pre">IndexSum.children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.IndexSum.multiindex"><code class="docutils literal notranslate"><span class="pre">IndexSum.multiindex</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Indexed"><code class="docutils literal notranslate"><span class="pre">Indexed</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Indexed.children"><code class="docutils literal notranslate"><span class="pre">Indexed.children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Indexed.index_ordering"><code class="docutils literal notranslate"><span class="pre">Indexed.index_ordering()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Indexed.indirect_children"><code class="docutils literal notranslate"><span class="pre">Indexed.indirect_children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Indexed.multiindex"><code class="docutils literal notranslate"><span class="pre">Indexed.multiindex</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Inverse"><code class="docutils literal notranslate"><span class="pre">Inverse</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Inverse.children"><code class="docutils literal notranslate"><span class="pre">Inverse.children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Inverse.shape"><code class="docutils literal notranslate"><span class="pre">Inverse.shape</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.ListTensor"><code class="docutils literal notranslate"><span class="pre">ListTensor</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.ListTensor.array"><code class="docutils literal notranslate"><span class="pre">ListTensor.array</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.ListTensor.children"><code class="docutils literal notranslate"><span class="pre">ListTensor.children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.ListTensor.get_hash"><code class="docutils literal notranslate"><span class="pre">ListTensor.get_hash()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.ListTensor.is_equal"><code class="docutils literal notranslate"><span class="pre">ListTensor.is_equal()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.ListTensor.reconstruct"><code class="docutils literal notranslate"><span class="pre">ListTensor.reconstruct()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.ListTensor.shape"><code class="docutils literal notranslate"><span class="pre">ListTensor.shape</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Literal"><code class="docutils literal notranslate"><span class="pre">Literal</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Literal.array"><code class="docutils literal notranslate"><span class="pre">Literal.array</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Literal.get_hash"><code class="docutils literal notranslate"><span class="pre">Literal.get_hash()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Literal.is_equal"><code class="docutils literal notranslate"><span class="pre">Literal.is_equal()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Literal.shape"><code class="docutils literal notranslate"><span class="pre">Literal.shape</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Literal.value"><code class="docutils literal notranslate"><span class="pre">Literal.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.LogicalAnd"><code class="docutils literal notranslate"><span class="pre">LogicalAnd</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.LogicalAnd.children"><code class="docutils literal notranslate"><span class="pre">LogicalAnd.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.LogicalNot"><code class="docutils literal notranslate"><span class="pre">LogicalNot</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.LogicalNot.children"><code class="docutils literal notranslate"><span class="pre">LogicalNot.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.LogicalOr"><code class="docutils literal notranslate"><span class="pre">LogicalOr</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.LogicalOr.children"><code class="docutils literal notranslate"><span class="pre">LogicalOr.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.MathFunction"><code class="docutils literal notranslate"><span class="pre">MathFunction</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.MathFunction.children"><code class="docutils literal notranslate"><span class="pre">MathFunction.children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.MathFunction.name"><code class="docutils literal notranslate"><span class="pre">MathFunction.name</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.MaxValue"><code class="docutils literal notranslate"><span class="pre">MaxValue</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.MaxValue.children"><code class="docutils literal notranslate"><span class="pre">MaxValue.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.MinValue"><code class="docutils literal notranslate"><span class="pre">MinValue</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.MinValue.children"><code class="docutils literal notranslate"><span class="pre">MinValue.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Node"><code class="docutils literal notranslate"><span class="pre">Node</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Node.T"><code class="docutils literal notranslate"><span class="pre">Node.T</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Node.dtype"><code class="docutils literal notranslate"><span class="pre">Node.dtype</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Node.free_indices"><code class="docutils literal notranslate"><span class="pre">Node.free_indices</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Node.inherit_dtype_from_children"><code class="docutils literal notranslate"><span class="pre">Node.inherit_dtype_from_children()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Node.is_equal"><code class="docutils literal notranslate"><span class="pre">Node.is_equal()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.OrientationVariableIndex"><code class="docutils literal notranslate"><span class="pre">OrientationVariableIndex</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.OrientationVariableIndex.expression"><code class="docutils literal notranslate"><span class="pre">OrientationVariableIndex.expression</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Power"><code class="docutils literal notranslate"><span class="pre">Power</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Power.children"><code class="docutils literal notranslate"><span class="pre">Power.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Product"><code class="docutils literal notranslate"><span class="pre">Product</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Product.children"><code class="docutils literal notranslate"><span class="pre">Product.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Remainder"><code class="docutils literal notranslate"><span class="pre">Remainder</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Remainder.children"><code class="docutils literal notranslate"><span class="pre">Remainder.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Solve"><code class="docutils literal notranslate"><span class="pre">Solve</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Solve.children"><code class="docutils literal notranslate"><span class="pre">Solve.children</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Solve.shape"><code class="docutils literal notranslate"><span class="pre">Solve.shape</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Sum"><code class="docutils literal notranslate"><span class="pre">Sum</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Sum.children"><code class="docutils literal notranslate"><span class="pre">Sum.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Variable"><code class="docutils literal notranslate"><span class="pre">Variable</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Variable.name"><code class="docutils literal notranslate"><span class="pre">Variable.name</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Variable.shape"><code class="docutils literal notranslate"><span class="pre">Variable.shape</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.VariableIndex"><code class="docutils literal notranslate"><span class="pre">VariableIndex</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.VariableIndex.expression"><code class="docutils literal notranslate"><span class="pre">VariableIndex.expression</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.Zero"><code class="docutils literal notranslate"><span class="pre">Zero</span></code></a><ul>
<li><a class="reference internal" href="#gem.gem.Zero.shape"><code class="docutils literal notranslate"><span class="pre">Zero.shape</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.Zero.value"><code class="docutils literal notranslate"><span class="pre">Zero.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.gem.as_gem"><code class="docutils literal notranslate"><span class="pre">as_gem()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.extract_type"><code class="docutils literal notranslate"><span class="pre">extract_type()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.index_sum"><code class="docutils literal notranslate"><span class="pre">index_sum()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.indices"><code class="docutils literal notranslate"><span class="pre">indices()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.partial_indexed"><code class="docutils literal notranslate"><span class="pre">partial_indexed()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.reshape"><code class="docutils literal notranslate"><span class="pre">reshape()</span></code></a></li>
<li><a class="reference internal" href="#gem.gem.view"><code class="docutils literal notranslate"><span class="pre">view()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.impero">gem.impero module</a><ul>
<li><a class="reference internal" href="#gem.impero.Accumulate"><code class="docutils literal notranslate"><span class="pre">Accumulate</span></code></a><ul>
<li><a class="reference internal" href="#gem.impero.Accumulate.indexsum"><code class="docutils literal notranslate"><span class="pre">Accumulate.indexsum</span></code></a></li>
<li><a class="reference internal" href="#gem.impero.Accumulate.loop_shape"><code class="docutils literal notranslate"><span class="pre">Accumulate.loop_shape()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.impero.Block"><code class="docutils literal notranslate"><span class="pre">Block</span></code></a><ul>
<li><a class="reference internal" href="#gem.impero.Block.children"><code class="docutils literal notranslate"><span class="pre">Block.children</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.impero.Evaluate"><code class="docutils literal notranslate"><span class="pre">Evaluate</span></code></a><ul>
<li><a class="reference internal" href="#gem.impero.Evaluate.expression"><code class="docutils literal notranslate"><span class="pre">Evaluate.expression</span></code></a></li>
<li><a class="reference internal" href="#gem.impero.Evaluate.loop_shape"><code class="docutils literal notranslate"><span class="pre">Evaluate.loop_shape()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.impero.For"><code class="docutils literal notranslate"><span class="pre">For</span></code></a><ul>
<li><a class="reference internal" href="#gem.impero.For.children"><code class="docutils literal notranslate"><span class="pre">For.children</span></code></a></li>
<li><a class="reference internal" href="#gem.impero.For.index"><code class="docutils literal notranslate"><span class="pre">For.index</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.impero.Initialise"><code class="docutils literal notranslate"><span class="pre">Initialise</span></code></a><ul>
<li><a class="reference internal" href="#gem.impero.Initialise.indexsum"><code class="docutils literal notranslate"><span class="pre">Initialise.indexsum</span></code></a></li>
<li><a class="reference internal" href="#gem.impero.Initialise.loop_shape"><code class="docutils literal notranslate"><span class="pre">Initialise.loop_shape()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.impero.Node"><code class="docutils literal notranslate"><span class="pre">Node</span></code></a></li>
<li><a class="reference internal" href="#gem.impero.Noop"><code class="docutils literal notranslate"><span class="pre">Noop</span></code></a><ul>
<li><a class="reference internal" href="#gem.impero.Noop.expression"><code class="docutils literal notranslate"><span class="pre">Noop.expression</span></code></a></li>
<li><a class="reference internal" href="#gem.impero.Noop.loop_shape"><code class="docutils literal notranslate"><span class="pre">Noop.loop_shape()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.impero.Return"><code class="docutils literal notranslate"><span class="pre">Return</span></code></a><ul>
<li><a class="reference internal" href="#gem.impero.Return.expression"><code class="docutils literal notranslate"><span class="pre">Return.expression</span></code></a></li>
<li><a class="reference internal" href="#gem.impero.Return.loop_shape"><code class="docutils literal notranslate"><span class="pre">Return.loop_shape()</span></code></a></li>
<li><a class="reference internal" href="#gem.impero.Return.variable"><code class="docutils literal notranslate"><span class="pre">Return.variable</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.impero.ReturnAccumulate"><code class="docutils literal notranslate"><span class="pre">ReturnAccumulate</span></code></a><ul>
<li><a class="reference internal" href="#gem.impero.ReturnAccumulate.indexsum"><code class="docutils literal notranslate"><span class="pre">ReturnAccumulate.indexsum</span></code></a></li>
<li><a class="reference internal" href="#gem.impero.ReturnAccumulate.loop_shape"><code class="docutils literal notranslate"><span class="pre">ReturnAccumulate.loop_shape()</span></code></a></li>
<li><a class="reference internal" href="#gem.impero.ReturnAccumulate.variable"><code class="docutils literal notranslate"><span class="pre">ReturnAccumulate.variable</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.impero.Terminal"><code class="docutils literal notranslate"><span class="pre">Terminal</span></code></a><ul>
<li><a class="reference internal" href="#gem.impero.Terminal.children"><code class="docutils literal notranslate"><span class="pre">Terminal.children</span></code></a></li>
<li><a class="reference internal" href="#gem.impero.Terminal.loop_shape"><code class="docutils literal notranslate"><span class="pre">Terminal.loop_shape()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.impero_utils">gem.impero_utils module</a><ul>
<li><a class="reference internal" href="#gem.impero_utils.ImperoC"><code class="docutils literal notranslate"><span class="pre">ImperoC</span></code></a><ul>
<li><a class="reference internal" href="#gem.impero_utils.ImperoC.declare"><code class="docutils literal notranslate"><span class="pre">ImperoC.declare</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.ImperoC.indices"><code class="docutils literal notranslate"><span class="pre">ImperoC.indices</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.ImperoC.temporaries"><code class="docutils literal notranslate"><span class="pre">ImperoC.temporaries</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.ImperoC.tree"><code class="docutils literal notranslate"><span class="pre">ImperoC.tree</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.impero_utils.NoopError"><code class="docutils literal notranslate"><span class="pre">NoopError</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.collect_temporaries"><code class="docutils literal notranslate"><span class="pre">collect_temporaries()</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.compile_gem"><code class="docutils literal notranslate"><span class="pre">compile_gem()</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.inline_temporaries"><code class="docutils literal notranslate"><span class="pre">inline_temporaries()</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.make_index_orderer"><code class="docutils literal notranslate"><span class="pre">make_index_orderer()</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.make_loop_tree"><code class="docutils literal notranslate"><span class="pre">make_loop_tree()</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.make_prefix_ordering"><code class="docutils literal notranslate"><span class="pre">make_prefix_ordering()</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.place_declarations"><code class="docutils literal notranslate"><span class="pre">place_declarations()</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.preprocess_gem"><code class="docutils literal notranslate"><span class="pre">preprocess_gem()</span></code></a></li>
<li><a class="reference internal" href="#gem.impero_utils.temp_refcount"><code class="docutils literal notranslate"><span class="pre">temp_refcount()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.interpreter">gem.interpreter module</a><ul>
<li><a class="reference internal" href="#gem.interpreter.evaluate"><code class="docutils literal notranslate"><span class="pre">evaluate()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.node">gem.node module</a><ul>
<li><a class="reference internal" href="#gem.node.Memoizer"><code class="docutils literal notranslate"><span class="pre">Memoizer</span></code></a></li>
<li><a class="reference internal" href="#gem.node.MemoizerArg"><code class="docutils literal notranslate"><span class="pre">MemoizerArg</span></code></a></li>
<li><a class="reference internal" href="#gem.node.Node"><code class="docutils literal notranslate"><span class="pre">Node</span></code></a><ul>
<li><a class="reference internal" href="#gem.node.Node.get_hash"><code class="docutils literal notranslate"><span class="pre">Node.get_hash()</span></code></a></li>
<li><a class="reference internal" href="#gem.node.Node.hash_value"><code class="docutils literal notranslate"><span class="pre">Node.hash_value</span></code></a></li>
<li><a class="reference internal" href="#gem.node.Node.is_equal"><code class="docutils literal notranslate"><span class="pre">Node.is_equal()</span></code></a></li>
<li><a class="reference internal" href="#gem.node.Node.reconstruct"><code class="docutils literal notranslate"><span class="pre">Node.reconstruct()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.node.collect_refcount"><code class="docutils literal notranslate"><span class="pre">collect_refcount()</span></code></a></li>
<li><a class="reference internal" href="#gem.node.noop_recursive"><code class="docutils literal notranslate"><span class="pre">noop_recursive()</span></code></a></li>
<li><a class="reference internal" href="#gem.node.noop_recursive_arg"><code class="docutils literal notranslate"><span class="pre">noop_recursive_arg()</span></code></a></li>
<li><a class="reference internal" href="#gem.node.post_traversal"><code class="docutils literal notranslate"><span class="pre">post_traversal()</span></code></a></li>
<li><a class="reference internal" href="#gem.node.pre_traversal"><code class="docutils literal notranslate"><span class="pre">pre_traversal()</span></code></a></li>
<li><a class="reference internal" href="#gem.node.reuse_if_untouched"><code class="docutils literal notranslate"><span class="pre">reuse_if_untouched()</span></code></a></li>
<li><a class="reference internal" href="#gem.node.reuse_if_untouched_arg"><code class="docutils literal notranslate"><span class="pre">reuse_if_untouched_arg()</span></code></a></li>
<li><a class="reference internal" href="#gem.node.traversal"><code class="docutils literal notranslate"><span class="pre">traversal()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.optimise">gem.optimise module</a><ul>
<li><a class="reference internal" href="#gem.optimise.aggressive_unroll"><code class="docutils literal notranslate"><span class="pre">aggressive_unroll()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.associate"><code class="docutils literal notranslate"><span class="pre">associate()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.constant_fold_zero"><code class="docutils literal notranslate"><span class="pre">constant_fold_zero()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.contraction"><code class="docutils literal notranslate"><span class="pre">contraction()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.delta_elimination"><code class="docutils literal notranslate"><span class="pre">delta_elimination()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.ffc_rounding"><code class="docutils literal notranslate"><span class="pre">ffc_rounding()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.filtered_replace_indices"><code class="docutils literal notranslate"><span class="pre">filtered_replace_indices()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.literal_rounding"><code class="docutils literal notranslate"><span class="pre">literal_rounding()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.literal_rounding_literal"><code class="docutils literal notranslate"><span class="pre">literal_rounding_literal()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.make_product"><code class="docutils literal notranslate"><span class="pre">make_product()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.make_rename_map"><code class="docutils literal notranslate"><span class="pre">make_rename_map()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.make_renamer"><code class="docutils literal notranslate"><span class="pre">make_renamer()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.make_sum"><code class="docutils literal notranslate"><span class="pre">make_sum()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.remove_componenttensors"><code class="docutils literal notranslate"><span class="pre">remove_componenttensors()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.replace_delta"><code class="docutils literal notranslate"><span class="pre">replace_delta()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.replace_division"><code class="docutils literal notranslate"><span class="pre">replace_division()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.replace_indices"><code class="docutils literal notranslate"><span class="pre">replace_indices()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.replace_indices_delta"><code class="docutils literal notranslate"><span class="pre">replace_indices_delta()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.replace_indices_flexiblyindexed"><code class="docutils literal notranslate"><span class="pre">replace_indices_flexiblyindexed()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.replace_indices_indexed"><code class="docutils literal notranslate"><span class="pre">replace_indices_indexed()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.select_expression"><code class="docutils literal notranslate"><span class="pre">select_expression()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.sum_factorise"><code class="docutils literal notranslate"><span class="pre">sum_factorise()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.traverse_product"><code class="docutils literal notranslate"><span class="pre">traverse_product()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.traverse_sum"><code class="docutils literal notranslate"><span class="pre">traverse_sum()</span></code></a></li>
<li><a class="reference internal" href="#gem.optimise.unroll_indexsum"><code class="docutils literal notranslate"><span class="pre">unroll_indexsum()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.pprint">gem.pprint module</a><ul>
<li><a class="reference internal" href="#gem.pprint.Context"><code class="docutils literal notranslate"><span class="pre">Context</span></code></a><ul>
<li><a class="reference internal" href="#gem.pprint.Context.expression"><code class="docutils literal notranslate"><span class="pre">Context.expression()</span></code></a></li>
<li><a class="reference internal" href="#gem.pprint.Context.force_expression"><code class="docutils literal notranslate"><span class="pre">Context.force_expression()</span></code></a></li>
<li><a class="reference internal" href="#gem.pprint.Context.index"><code class="docutils literal notranslate"><span class="pre">Context.index()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.pprint.make_decl"><code class="docutils literal notranslate"><span class="pre">make_decl()</span></code></a></li>
<li><a class="reference internal" href="#gem.pprint.pprint"><code class="docutils literal notranslate"><span class="pre">pprint()</span></code></a></li>
<li><a class="reference internal" href="#gem.pprint.to_str"><code class="docutils literal notranslate"><span class="pre">to_str()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.refactorise">gem.refactorise module</a><ul>
<li><a class="reference internal" href="#gem.refactorise.ATOMIC"><code class="docutils literal notranslate"><span class="pre">ATOMIC</span></code></a></li>
<li><a class="reference internal" href="#gem.refactorise.COMPOUND"><code class="docutils literal notranslate"><span class="pre">COMPOUND</span></code></a></li>
<li><a class="reference internal" href="#gem.refactorise.FactorisationError"><code class="docutils literal notranslate"><span class="pre">FactorisationError</span></code></a></li>
<li><a class="reference internal" href="#gem.refactorise.Monomial"><code class="docutils literal notranslate"><span class="pre">Monomial</span></code></a><ul>
<li><a class="reference internal" href="#gem.refactorise.Monomial.atomics"><code class="docutils literal notranslate"><span class="pre">Monomial.atomics</span></code></a></li>
<li><a class="reference internal" href="#gem.refactorise.Monomial.rest"><code class="docutils literal notranslate"><span class="pre">Monomial.rest</span></code></a></li>
<li><a class="reference internal" href="#gem.refactorise.Monomial.sum_indices"><code class="docutils literal notranslate"><span class="pre">Monomial.sum_indices</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.refactorise.MonomialSum"><code class="docutils literal notranslate"><span class="pre">MonomialSum</span></code></a><ul>
<li><a class="reference internal" href="#gem.refactorise.MonomialSum.add"><code class="docutils literal notranslate"><span class="pre">MonomialSum.add()</span></code></a></li>
<li><a class="reference internal" href="#gem.refactorise.MonomialSum.product"><code class="docutils literal notranslate"><span class="pre">MonomialSum.product()</span></code></a></li>
<li><a class="reference internal" href="#gem.refactorise.MonomialSum.sum"><code class="docutils literal notranslate"><span class="pre">MonomialSum.sum()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.refactorise.OTHER"><code class="docutils literal notranslate"><span class="pre">OTHER</span></code></a></li>
<li><a class="reference internal" href="#gem.refactorise.collect_monomials"><code class="docutils literal notranslate"><span class="pre">collect_monomials()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.scheduling">gem.scheduling module</a><ul>
<li><a class="reference internal" href="#gem.scheduling.OrderedDefaultDict"><code class="docutils literal notranslate"><span class="pre">OrderedDefaultDict</span></code></a></li>
<li><a class="reference internal" href="#gem.scheduling.Queue"><code class="docutils literal notranslate"><span class="pre">Queue</span></code></a><ul>
<li><a class="reference internal" href="#gem.scheduling.Queue.insert"><code class="docutils literal notranslate"><span class="pre">Queue.insert()</span></code></a></li>
<li><a class="reference internal" href="#gem.scheduling.Queue.process"><code class="docutils literal notranslate"><span class="pre">Queue.process()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.scheduling.ReferenceStager"><code class="docutils literal notranslate"><span class="pre">ReferenceStager</span></code></a><ul>
<li><a class="reference internal" href="#gem.scheduling.ReferenceStager.decref"><code class="docutils literal notranslate"><span class="pre">ReferenceStager.decref()</span></code></a></li>
<li><a class="reference internal" href="#gem.scheduling.ReferenceStager.empty"><code class="docutils literal notranslate"><span class="pre">ReferenceStager.empty()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.scheduling.emit_operations"><code class="docutils literal notranslate"><span class="pre">emit_operations()</span></code></a></li>
<li><a class="reference internal" href="#gem.scheduling.handle"><code class="docutils literal notranslate"><span class="pre">handle()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.unconcatenate">gem.unconcatenate module</a><ul>
<li><a class="reference internal" href="#gem.unconcatenate.flatten"><code class="docutils literal notranslate"><span class="pre">flatten()</span></code></a></li>
<li><a class="reference internal" href="#gem.unconcatenate.unconcatenate"><code class="docutils literal notranslate"><span class="pre">unconcatenate()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem.utils">gem.utils module</a><ul>
<li><a class="reference internal" href="#gem.utils.DynamicallyScoped"><code class="docutils literal notranslate"><span class="pre">DynamicallyScoped</span></code></a><ul>
<li><a class="reference internal" href="#gem.utils.DynamicallyScoped.let"><code class="docutils literal notranslate"><span class="pre">DynamicallyScoped.let()</span></code></a></li>
<li><a class="reference internal" href="#gem.utils.DynamicallyScoped.value"><code class="docutils literal notranslate"><span class="pre">DynamicallyScoped.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#gem.utils.UnsetVariableError"><code class="docutils literal notranslate"><span class="pre">UnsetVariableError</span></code></a></li>
<li><a class="reference internal" href="#gem.utils.cached_property"><code class="docutils literal notranslate"><span class="pre">cached_property</span></code></a></li>
<li><a class="reference internal" href="#gem.utils.groupby"><code class="docutils literal notranslate"><span class="pre">groupby()</span></code></a></li>
<li><a class="reference internal" href="#gem.utils.make_proxy_class"><code class="docutils literal notranslate"><span class="pre">make_proxy_class()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-gem">Module contents</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="finat.ufl.html"
                          title="previous chapter">finat.ufl package</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/gem.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="finat.ufl.html" title="finat.ufl package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FInite element Automatic Tabulator (FIAT) 2024.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">gem package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, FEniCS Project.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>